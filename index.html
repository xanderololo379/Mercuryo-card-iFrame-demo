    <script>
        // Get DOM elements
        const iframe = document.getElementById('mercuryo-iframe');
        const loading = document.getElementById('loading');
        const errorMessage = document.getElementById('error-message');
        
        let loadTimeout;
        let hasLoaded = false;
        
        // Set a timeout to detect if iframe fails to load
        loadTimeout = setTimeout(function() {
            if (!hasLoaded) {
                showError();
            }
        }, 10000); // 10 seconds timeout
        
        // Hide loading message when iframe loads successfully
        iframe.addEventListener('load', function() {
            hasLoaded = true;
            clearTimeout(loadTimeout);
            loading.style.display = 'none';
            
            // Check if iframe actually loaded content or just an error page
            try {
                // This might throw an error due to CORS, which is expected
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                if (iframeDoc.title.includes('error') || iframeDoc.body.innerHTML.includes('error')) {
                    showError();
                }
            } catch (e) {
                // CORS error is expected, iframe might still be working
                console.log('CORS restriction detected, but iframe might be working');
            }
        });
        
        // Handle iframe load errors
        iframe.addEventListener('error', function() {
            hasLoaded = false;
            clearTimeout(loadTimeout);
            showError();
        });
        
        // Function to show error message
        function showError() {
            loading.style.display = 'none';
            errorMessage.style.display = 'block';
            iframe.style.opacity = '0.3';
        }
        
        // Function to retry loading iframe
        function retryIframe() {
            hasLoaded = false;
            errorMessage.style.display = 'none';
            loading.style.display = 'block';
            iframe.style.opacity = '1';
            
            // Reload iframe with cache-busting parameter
            const originalSrc = iframe.src.split('&_retry=')[0];
            iframe.src = originalSrc + '&_retry=' + Date.now();
            
            // Reset timeout
            clearTimeout(loadTimeout);
            loadTimeout = setTimeout(function() {
                if (!hasLoaded) {
                    showError();
                }
            }, 10000);
        }
        
        // Check if we're on HTTPS (GitHub Pages)
        if (location.protocol === 'https:' && iframe.src.startsWith('http:')) {
            console.warn('Mixed content detected: HTTPS page loading HTTP iframe');
        }
    </script>order-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }
        
        .retry-btn:hover {
            background: #229954;
        }
        
        .info {
            padding: 20px;
            background-color: #ecf0f1;
            border-top: 1px solid #ddd;
        }
        
        .info h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        
        .info p {
            margin: 10px 0;
            line-height: 1.6;
        }
        
        .info a {
            color: #3498db;
            text-decoration: none;
        }
        
        .info a:hover {
            text-decoration: underline;
        }
        
        @media (max-width: 768px) {
            .iframe-container {
                height: 600px;
            }
            
            body {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Mercuryo Spend Card Demo</h1>
            <p>Interactive Spend Card Details Interface</p>
        </div>
        
        <div class="iframe-container">
            <div class="loading" id="loading">Loading Mercuryo Spend Card interface...</div>
            <div class="error-message" id="error-message" style="display: none;">
                <h3>‚ö†Ô∏è Iframe Loading Failed</h3>
                <p>The Mercuryo interface cannot be embedded due to security restrictions.</p>
                <div class="solutions">
                    <h4>Alternative Options:</h4>
                    <ol>
                        <li><strong>Open in New Tab:</strong> 
                            <a href="https://sandbox-spend-app.mrcr.io/?init_token_type=sdk_partner_spend_card_details_authorization&init_token=0e5852d2a89956503" 
                               target="_blank" class="btn-link">Launch Mercuryo Interface</a>
                        </li>
                        <li><strong>Check Token:</strong> Your initialization token might have expired</li>
                        <li><strong>CORS Issue:</strong> The service may not allow iframe embedding from external domains</li>
                    </ol>
                </div>
                <button onclick="retryIframe()" class="retry-btn">üîÑ Retry Loading</button>
            </div>
            <iframe 
                id="mercuryo-iframe"
                src="https://sandbox-spend-app.mrcr.io/?init_token_type=sdk_partner_spend_card_details_authorization&init_token=0e5852d2a89956503"
                title="Mercuryo Spend Card Details"
                allowfullscreen
                loading="lazy"
                sandbox="allow-same-origin allow-scripts allow-forms allow-popups allow-top-navigation">
                <p>Your browser does not support iframes. Please visit the 
                <a href="https://sandbox-spend-app.mrcr.io/?init_token_type=sdk_partner_spend_card_details_authorization&init_token=0e5852d2a89956503" target="_blank">
                Mercuryo Spend Card interface directly</a>.</p>
            </iframe>
        </div>
        
        <div class="info">
            <h3>About This Demo</h3>
            <p>This page demonstrates the Mercuryo Spend Card Details interface embedded as an iframe. 
            The interface allows users to view and manage their virtual payment card details.</p>
            
            <p><strong>Features:</strong></p>
            <ul>
                <li>View spend card details and balance</li>
                <li>Card management functionality</li>
                <li>Transaction history</li>
                <li>Secure sandbox environment</li>
            </ul>
            
            <p><strong>Documentation:</strong> 
            <a href="https://spend-api.redoc.ly/#section/Scenarios/Spend-Card-Details" target="_blank">
            Mercuryo Spend Card API Docs</a></p>
            
            <p><em>Note: This is a sandbox environment for testing purposes.</em></p>
        </div>
    </div>

    <script>
        // Get DOM elements
        const iframe = document.getElementById('mercuryo-iframe');
        const loading = document.getElementById('loading');
        const errorMessage = document.getElementById('error-message');
        
        let loadTimeout;
        let hasLoaded = false;
        
        // Set a timeout to detect if iframe fails to load
        loadTimeout = setTimeout(function() {
            if (!hasLoaded) {
                showError();
            }
        }, 10000); // 10 seconds timeout
        
        // Hide loading message when iframe loads successfully
        iframe.addEventListener('load', function() {
            hasLoaded = true;
            clearTimeout(loadTimeout);
            loading.style.display = 'none';
            
            // Check if iframe actually loaded content or just an error page
            try {
                // This might throw an error due to CORS, which is expected
                const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                if (iframeDoc.title.includes('error') || iframeDoc.body.innerHTML.includes('error')) {
                    showError();
                }
            } catch (e) {
                // CORS error is expected, iframe might still be working
                console.log('CORS restriction detected, but iframe might be working');
            }
        });
        
        // Handle iframe load errors
        iframe.addEventListener('error', function() {
            hasLoaded = false;
            clearTimeout(loadTimeout);
            showError();
        });
        
        // Function to show error message
        function showError() {
            loading.style.display = 'none';
            errorMessage.style.display = 'block';
            iframe.style.opacity = '0.3';
        }
        
        // Function to retry loading iframe
        function retryIframe() {
            hasLoaded = false;
            errorMessage.style.display = 'none';
            loading.style.display = 'block';
            iframe.style.opacity = '1';
            
            // Reload iframe with cache-busting parameter
            const originalSrc = iframe.src.split('&_retry=')[0];
            iframe.src = originalSrc + '&_retry=' + Date.now();
            
            // Reset timeout
            clearTimeout(loadTimeout);
            loadTimeout = setTimeout(function() {
                if (!hasLoaded) {
                    showError();
                }
            }, 10000);
        }
        
        // Check if we're on HTTPS (GitHub Pages)
        if (location.protocol === 'https:' && iframe.src.startsWith('http:')) {
            console.warn('Mixed content detected: HTTPS page loading HTTP iframe');
        }
    </script>
</body>
</html>
